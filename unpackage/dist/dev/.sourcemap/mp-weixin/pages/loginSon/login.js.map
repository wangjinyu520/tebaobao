{"version":3,"sources":["webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/main.js","webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue?23d0","webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue?4e1e","webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue?80eb","webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue?e4e9","webpack:///C:/Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue"],"names":["createPage","Page","webSocket","require","num","data","indexId1","codetel","dxcode","coun","pwdtel","password","providerList","onLoad","option","uni","getProvider","service","success","e","provider","map","value","providerName","name","id","fail","console","log","methods","login","$loading","length","$toast","$http","getduanxindenglu","phone","phonecode","then","res","status","mess","setStorageSync","token","setTimeout","connectSocket","switchTab","url","getpwddenglu","getcode","getLoginCode","timeId","setInterval","clearInterval","wxLogin","getUserInfo","infoRes","JSON","stringify","getsfdenglu","oauth","openid","userInfo","openId","nick_name","nickName","iconurl","avatarUrl","uniongender","gender","result","catch","err"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,gG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AACyI;AACzI,gBAAgB,wIAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAA+wB,CAAgB,ssBAAG,EAAC,C;;;;;;;;;;;;mICAnyB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,SAAS,GAAGC,mBAAO,CAAC,+BAAD,CAAzB;AACA,IAAIC,GAAG,GAAG,EAAV,C;AACe;AACXC,MADW,kBACL;AACF,WAAO;AACHC,cAAQ,EAAC,CADN;AAEHC,aAAO,EAAC,EAFL;AAGHC,YAAM,EAAC,EAHJ;AAIHC,UAAI,EAAC,OAJF;AAKHC,YAAM,EAAC,EALJ;AAMHC,cAAQ,EAAC,EANN;AAOHC,kBAAY,EAAC,EAPV,EAAP;;AASH,GAXU;AAYXC,QAZW,kBAYJC,MAZI,EAYG;AACV;AACA;AACA;AACAC,OAAG,CAACC,W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","file":"pages/loginSon/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/loginSon/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=2aeff3e3&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2aeff3e3', component.options)\n    } else {\n      api.reload('2aeff3e3', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=2aeff3e3&\", function () {\n      api.rerender('2aeff3e3', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/892314528/Desktop/mall_app_project/ShoppingMall/pages/loginSon/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=2aeff3e3&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.indexId1 = 1\n    }\n\n    _vm.e1 = function($event) {\n      _vm.indexId1 = 2\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nconst webSocket = require('../../utils/socket.js')  \r\nvar num = 60\r\nexport default {\r\n    data(){\r\n        return {\r\n            indexId1:1,\r\n            codetel:'',\r\n            dxcode:'',\r\n            coun:'获取验证码',\r\n            pwdtel:'',\r\n            password:'',\r\n            providerList:[]\r\n        }\r\n    },\r\n    onLoad(option){\r\n        // if(option.islogin == 0) {\r\n        //     this.$toast('请先登陆')\r\n        // }\r\n        uni.getProvider({\r\n            service: 'oauth',\r\n            success: (e) => {\r\n                // console.log('oauth..........');\r\n                this.providerList = e.provider.map((value) => {\r\n                    let providerName = '';\r\n                    switch (value) {\r\n                        case 'weixin':\r\n                            providerName = '微信登录'\r\n                            break;\r\n                        case 'qq':\r\n                            providerName = 'QQ登录'\r\n                            break;\r\n                        case 'sinaweibo':\r\n                            providerName = '新浪微博登录'\r\n                            break;\r\n                        case 'xiaomi':\r\n                            providerName = '小米登录'\r\n                            break;\r\n                        case 'baidu':\r\n                            providerName = '百度登录'\r\n                            break;\r\n                        case 'alipay':\r\n                            providerName = '支付宝登录'\r\n                            break;\r\n                    }\r\n                    return {\r\n                        name: providerName,\r\n                        id: value\r\n                    }\r\n                })\r\n            },\r\n            fail: (e) => {\r\n                console.log(\"获取登录通道失败\", e);\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        login:function(){\r\n            this.$loading()\r\n            if(this.indexId1 == 1) {\r\n                // 短信登陆\r\n                if(this.codetel.length < 11) {\r\n                    this.$toast('请输入正确的手机号')\r\n                    return false\r\n                }\r\n                if(this.dxcode == '') {\r\n                    this.$toast('请输入短信验证码')\r\n                    return false\r\n                }\r\n                this.$http.getduanxindenglu({\r\n                    phone: this.codetel,\r\n                    phonecode:this.dxcode\r\n                }).then(res=>{\r\n                    if(res.status == 200) {\r\n                        this.$toast(res.mess)\r\n                        uni.setStorageSync('token', res.data.token);\r\n                        setTimeout(() => {\r\n\r\n                            webSocket.connectSocket({\r\n                                success: () => {\r\n                                    console.log('连接成功')\r\n                                }\r\n                            })\r\n                            uni.switchTab({\r\n                                url:'/pages/tabBar/Home'\r\n                            })\r\n                        }, 1500);\r\n                    }\r\n                })\r\n            } else {\r\n                if(this.pwdtel.length < 11) {\r\n                    this.$toast('请输入正确的手机号')\r\n                    return false\r\n                }\r\n                if(this.password == '') {\r\n                    this.$toast('请输入登陆密码')\r\n                    return false\r\n                }\r\n                this.$http.getpwddenglu({\r\n                    phone:this.pwdtel,\r\n                    password:this.password\r\n                }).then(res=>{\r\n                    if(res.status == 200) {\r\n                        this.$toast(res.mess)\r\n                        uni.setStorageSync('token', res.data.token);\r\n                        setTimeout(() => {\r\n\r\n                            webSocket.connectSocket({\r\n                                success: () => {\r\n                                    console.log('连接成功')\r\n                                }\r\n                            })\r\n                            uni.switchTab({\r\n                                url:'/pages/tabBar/Home'\r\n                            })\r\n                        }, 1500);\r\n                    }\r\n                })\r\n            }\r\n            \r\n        },\r\n        getcode:function(){\r\n            // 短信登陆\r\n            if(this.codetel.length < 11) {\r\n                this.$toast('请输入正确的手机号')\r\n                return false\r\n            }\r\n            this.$loading()\r\n            this.$http.getLoginCode({phone:this.codetel}).then(res=>{\r\n                if(res.status == 200) {\r\n                    this.$toast(res.mess)\r\n                    var timeId =setInterval( res=>{\r\n                        --num\r\n                        if(num == 0) {\r\n                            this.coun = '重新获取'\r\n                            clearInterval(timeId)\r\n                        return false\r\n                        }\r\n                        this.coun = num + 's'\r\n                    } ,1000)\r\n                }\r\n            })\r\n        },\r\n\r\n        wxLogin(){\r\n            console.log(this.providerList[0].id)\r\n            uni.login({\r\n                provider: 'weixin',\r\n                success: (res) => {\r\n                    uni.getUserInfo({\r\n                        provider: 'weixin',\r\n                        success:  (infoRes) =>{\r\n                            // console.log('用户昵称为：' + infoRes.userInfo.nickName);\r\n                            console.log(JSON.stringify(infoRes))\r\n                            this.$loading()\r\n                            this.$http.getsfdenglu({\r\n                                oauth: 'weixin',\r\n                                openid:infoRes.userInfo.openId,\r\n                                nick_name:infoRes.userInfo.nickName,\r\n                                iconurl:infoRes.userInfo.avatarUrl,\r\n                                uniongender:infoRes.userInfo.gender\r\n                            }).then(result=>{\r\n                                if(result.status == 200) {\r\n                                    this.$toast(result.mess)\r\n                                    uni.setStorageSync('token', result.data.token);\r\n                                    setTimeout(() => {\r\n\r\n                                        webSocket.connectSocket({\r\n                                            success: () => {\r\n                                                console.log('连接成功')\r\n                                            }\r\n                                        })\r\n                                        uni.switchTab({\r\n                                            url:'/pages/tabBar/Home'\r\n                                        })\r\n                                    }, 1000);\r\n                                } else {\r\n                                console.log(JSON.stringify(result))\r\n                                }\r\n                            }).catch(err => {\r\n                                console.log(JSON.stringify(err))\r\n                            })\r\n\r\n                        }\r\n                    });\r\n                    \r\n                    \r\n                },\r\n                fail: (err) => {\r\n                    console.log('login fail:', err);\r\n                }\r\n            });\r\n        }\r\n    },\r\n}\r\n"],"sourceRoot":""}