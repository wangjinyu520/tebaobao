(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personalSon/information"],{"06c0":function(t,e,i){},"13ec":function(t,e,i){"use strict";var n=i("06c0"),s=i.n(n);s.a},"14fe":function(t,e,i){"use strict";i.r(e);var n=i("f23e"),s=i("4109");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("13ec");var o,r=i("f0c5"),u=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=u.exports},"2b5a":function(t,e,i){"use strict";(function(t){i("fdb5"),i("921b");n(i("66fd"));var e=n(i("14fe"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},4109:function(t,e,i){"use strict";i.r(e);var n=i("835c"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},"835c":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return i.e("components/uni-popup").then(i.bind(null,"9cab"))},a=[],o=null,r=[],u={components:{uniPopup:s},onLoad:function(e){t("log",e," at pages\\personalSon\\information.vue:168"),e.typeshop&&(this.settledType=e.typeshop),this.getruzhuinfo()},data:function(){return{showPopupBottom:!1,ruzhuinfo:[],catesinfo:[],industry_name:"",cates:"",xxaddress:"",shopinfo:{},settledType:1,pirkCity:{prores:[],cityres:[],areares:[]},pro_name:{},city_name:{},area_name:{},disabled:0,disabled2:0,portrait:"",cardZ:"",cardF:"",frsfz_pic:"",license:"",supplement:""}},onShow:function(){var t=this;this.$http.getpro().then(function(e){200==e.status&&(t.pirkCity.prores=e.data)})},methods:{bindPickerChange:function(t,e){var i=this;1==t?this.pirkCity.prores.forEach(function(t,n){n==e.detail.value&&(i.pro_name=t,i.$http.getcity({pro_id:t.id}).then(function(t){200==t.status&&(i.pirkCity.cityres=t.data,i.disabled=1)}))}):2==t?this.pirkCity.cityres.forEach(function(t,n){n==e.detail.value&&(i.city_name=t,i.$http.getarea({city_id:t.id}).then(function(t){200==t.status&&(i.pirkCity.areares=t.data,i.disabled2=1)}))}):this.pirkCity.areares.forEach(function(t,n){n==e.detail.value&&(i.area_name=t)})},infoImg:function(e,i){var s=this,o=e.currentTarget.dataset.id,r=i||1;n.chooseImage({count:r,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){switch(t("log",e," at pages\\personalSon\\information.vue:258"),Number(o)){case 1:s.portrait=e.tempFiles,a[0]=e.tempFilePaths[0];break;case 2:s.cardZ=e.tempFiles,a[1]=e.tempFilePaths[0];break;case 3:s.cardF=e.tempFiles,a[2]=e.tempFilePaths[0];break;case 4:s.license=e.tempFiles,a[4]=e.tempFilePaths[0];break;case 5:s.supplement=e.tempFiles;for(var i=0;i<e.tempFilePaths.length;i++)a[4+Number(i)+1]=e.tempFilePaths[i];break;case 6:s.frsfz_pic=e.tempFiles,a[3]=e.tempFilePaths[0]}}})},previeImage:function(t){var e=[];t.forEach(function(t){e.push(t.path)}),n.previewImage({indicator:"number",urls:e})},getruzhuinfo:function(){var t=this;this.$http.getruzhuinfo().then(function(e){200==e.status&&(t.ruzhuinfo=e.data.industryres,3==e.data.zhuangtai?n.redirectTo({url:"/pages/moneyCartSon/Settledin"}):4==e.data.zhuangtai&&n.redirectTo({url:"/pages/loginSon/settingWx"}))})},bindPickerindustry:function(e){var i=this;t("log",e," at pages\\personalSon\\information.vue:333");var n=e.detail.value;this.ruzhuinfo.forEach(function(e,s){s==n&&(i.industry_name=e.industry_name,o=e.id,t("log",e," at pages\\personalSon\\information.vue:339"),i.$http.getcates({indus_id:e.id}).then(function(t){200==t.status&&(i.catesinfo=t.data)}))})},checkcates:function(){if(!this.industry_name)return this.$toast("请先选择行业"),!1;this.showPopupBottom=!0},hidePopup:function(){this.showPopupBottom=!1},checkboxChange:function(e){r=e.detail.value,t("log",r.join(","),"++++++"," at pages\\personalSon\\information.vue:370");for(var i=[],n=0;n<this.catesinfo.length;n++)for(var s=0;s<r.length;s++)r[s]==this.catesinfo[n].id&&i.push(this.catesinfo[n].cate_name);this.cates=i.join("、")},submitinfo:function(){if(""==this.industry_name)return this.$toast("请选择行业"),!1;if(""==this.cates)return this.$toast("请选择经营类目"),!1;if(!this.pro_name.pro_name&&!this.city_name.city_name&&!this.area_name.area_name)return this.$toast("请选择省、市、区"),!1;if(""==this.xxaddress)return this.$toast("请输入详细地址"),!1;if(""==this.portrait)return this.$toast("请选择商家logo"),!1;if(""==this.shopinfo.name)return this.$toast("请填写真实姓名"),!1;if(""==this.shopinfo.phone)return this.$toast("请输入手机号"),!1;if(""==this.shopinfo.bank)return this.$toast("请输入身份证账号"),!1;if(""==this.shopinfo.email)return this.$toast("请输入邮箱"),!1;if(""==this.shopinfo.shopname)return this.$toast("请输入店铺名称"),!1;if(""==this.cardZ)return this.$toast("请选择身份证正面"),!1;if(""==this.cardF)return this.$toast("请选择身份证反面"),!1;if(""==this.frsfz_pic)return this.$toast("请选择手持身份证正面"),!1;if(""==this.license&&2==this.settledType)return this.$toast("请选择营业执照"),!1;if(""==this.supplement)return this.$toast("请选择补充材料（最多5张）"),!1;for(var t=[],e=0;e<a.length;e++)t.push({name:"imageres"+e,uri:a[e]?a[e]:""});var i={apply_type:this.settledType,indus_id:o,cate_ids:r.join(","),shop_name:this.shopinfo.shopname,shop_desc:this.shopinfo.shop_desc,logo:this.portrait[0].path,sfz_num:this.shopinfo.bank,contacts:this.shopinfo.name,telephone:this.shopinfo.phone,email:this.shopinfo.email,pro_id:this.pro_name.id,city_id:this.city_name.id,area_id:this.area_name.id,address:this.xxaddress,imageres:t};this.$loading(),1==this.settledType?this.personConfirm(i,"apicloud/ApplyInfo/personapply"):2==this.settledType&&this.personConfirm(i,"apicloud/ApplyInfo/comapply")},personConfirm:function(e,i){var s=this;this.$http.getpersonapply(e,i).then(function(e){e=JSON.parse(e),200==e.status?(t("log",JSON.stringify(e)," at pages\\personalSon\\information.vue:498"),s.$toast(e.mess),setTimeout(function(){n.redirectTo({url:"/pages/moneyCartSon/Settledin"})},1500)):s.$toast(e.mess)})}}};e.default=u}).call(this,i("0de9")["default"],i("6e42")["default"])},f23e:function(t,e,i){"use strict";var n,s=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"b",function(){return s}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})}},[["2b5a","common/runtime","common/vendor"]]]);