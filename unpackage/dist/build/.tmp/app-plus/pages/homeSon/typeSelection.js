(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/homeSon/typeSelection"],{"3dfb":function(t,i,e){"use strict";(function(t){e("fdb5"),e("921b");o(e("66fd"));var i=o(e("db9b"));function o(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("6e42")["createPage"])},8769:function(t,i,e){"use strict";var o,s=function(){var t=this,i=t.$createElement;t._self._c},n=[];e.d(i,"b",function(){return s}),e.d(i,"c",function(){return n}),e.d(i,"a",function(){return o})},a432:function(t,i,e){"use strict";e.r(i);var o=e("fdda"),s=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(i,t,function(){return o[t]})}(n);i["default"]=s.a},a989:function(t,i,e){"use strict";var o=e("d5ef"),s=e.n(o);s.a},d5ef:function(t,i,e){},db9b:function(t,i,e){"use strict";e.r(i);var o=e("8769"),s=e("a432");for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);e("a989");var a,r=e("f0c5"),h=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);i["default"]=h.exports},fdda:function(t,i,e){"use strict";(function(t,o){function s(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(i){n(t,i,e[i])})}return t}function n(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(){return e.e("components/uni-drawer").then(e.bind(null,"d93a"))},r=e("b6d7"),h=1,c="all",u=[],l={components:{uniDrawer:a},data:function(){return{isshow:!1,showingIndex1:1,loadingStatus:0,sortType:"",filteList:[],currValue:0,filteAl:0,indexid:0,cateId:"",goodsList:[],rightDrawerVisible:!1,shop:[{check:!0,str:"全部商品",type:"all"},{check:!1,str:"自营商品",type:1},{check:!1,str:"活动商品",type:2}],low_price:"",max_price:"",isShow:[],valueStatus:0}},onShow:function(){},onLoad:function(){h=1,this.cateId=this.$mp.query.id,this.$loading(),this.getGoodsList({page:h,cate_id:this.$mp.query.id})},onPageScroll:function(t){r.load(t.scrollTop,this)},watch:{rightDrawerVisible:function(){this.statusMath(this)}},methods:{rightDrawerLoad:function(){h=1,this.$loading(),this.loadingStatus=0,this.shop.forEach(function(t,i){t.check=!1,0==i&&(t.check=!0)}),this.getGoodsList({page:h,cate_id:this.cateId})},closeRightDrawer:function(){this.rightDrawerVisible=!1},showRightDrawer:function(){this.rightDrawerVisible=!0},getGoodsList:function(i){var e=this;this.$http.getCategoryGoodsList(i).then(function(i){200===i.status?(e.goodsList=i.data.goodres,0==e.goodsList.length?e.isshow=!0:e.isshow=!1,e.filteList=i.data.shaixuan.map(function(i){return i.height=t.upx2px(150)+"px",i.active=null,i}),r.load(500,e),e.statusMath(e)):e.$toast(i.mess)})},showOptions:function(i,e){var o=this;if(3!==i&&this.showingIndex1===i)return!1;this.sortType=e,this.loadingStatus=0,3===i&&(1===this.filteAl?this.filteAl=2:this.filteAl=1),3!==i&&(this.filteAl=0),this.showingIndex1=i,h=1,this.$loading(),this.$http.getCategoryGoodsList({page:1,cate_id:this.$mp.query.id,sort:3===i?this.sortOrder():this.sortType}).then(function(i){200===i.status?(o.goodsList=i.data.goodres,o.loadingStatus=0):(o.goodsList=[],o.loadingStatus=2),0==o.goodsList.length?o.isshow=!0:o.isshow=!1,t.pageScrollTo({scrollTop:0,duration:0})})},showOptions4:function(){this.showRightDrawer()},sortOrder:function(t){return 1===this.filteAl?"low_height":"height_low"},changeOrder:function(t){t.target.dataset.itemid;this.showingIndex1=0},clickActive:function(t){this.indexid=t},getHeight:function(i){this.filteList.forEach(function(e){if(e.id==i){var o=Math.ceil(e.attr_values.length/3);if(e.attr_values.length<=6)return!1;if(e.height==t.upx2px(150)+"px"){var s=t.createSelectorQuery().select(".type-list");s.fields({size:!0,scrollOffset:!0},function(t){e.height=(Number(t.height)+15)*o+"px"}).exec()}else e.height=t.upx2px(150)+"px"}})},getId:function(t,i,e){this.filteList.forEach(function(i,o){if(t==i.id)for(var s=0;s<=i.attr_values.length-1;s++)e==i.attr_values[s]&&(i.active=i.attr_values[s])})},completeSearch:function(){var t=this;u=[],this.rightDrawerVisible=!1,this.filteList.forEach(function(t){t.active&&u.push(t.id+":"+t.active)});var i={goods_type:c,low_price:this.low_price,max_price:this.max_price,goods_attr:u.join(",")};if(h=1,this.loadingStatus=0,0!==this.loadingStatus)return!1;this.loadingStatus=1,this.goodsList=[],this.$loading(),this.$http.getCategoryGoodsList(s({page:h,cate_id:this.$mp.query.id,sort:3===this.showingIndex1?this.sortOrder():this.sortType},i)).then(function(i){if(200===i.status){if(0==t.goodsList.length?t.isshow=!0:t.isshow=!1,0==i.data.goodres.length)return t.loadingStatus=2,!1;t.goodsList=i.data.goodres,t.loadingStatus=0}}).catch(function(){t.loadingStatus=0})},getCheck:function(t){this.shop.forEach(function(i,e){i.check=!1,t==e&&(i.check=!0,c=i.type)})},clickType:function(){var t={cate_id:this.cateId,type:1};o("log",t," at pages\\homeSon\\typeSelection.vue:399"),this.getnav("/pages/homeSon/theShop?searchObj="+JSON.stringify(t))}},onReachBottom:function(){var t=this;if(0!==this.loadingStatus)return!1;this.loadingStatus=1,this.$http.getCategoryGoodsList({page:h+1,cate_id:this.$mp.query.id,sort:3===this.showingIndex1?this.sortOrder():this.sortType,low_price:this.low_price,max_price:this.max_price,goods_attr:u.join(",")}).then(function(i){if(200===i.status){if(0==i.data.goodres.length)return t.loadingStatus=2,!1;r.load(500,t),t.goodsList=t.goodsList.concat(i.data.goodres),t.loadingStatus=0,h+=1}}).catch(function(){t.loadingStatus=0})}};i.default=l}).call(this,e("6e42")["default"],e("0de9")["default"])}},[["3dfb","common/runtime","common/vendor"]]]);