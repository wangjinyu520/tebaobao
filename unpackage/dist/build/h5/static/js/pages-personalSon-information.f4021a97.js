(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personalSon-information"],{"14fe":function(t,i,e){"use strict";e.r(i);var n=e("e92d"),a=e("4109");for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);e("b959");var o,c=e("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2b4c1ed7",null,!1,n["a"],o);i["default"]=r.exports},2719:function(t,i,e){"use strict";e.r(i);var n=e("c7f9"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);i["default"]=a.a},"3ac1":function(t,i,e){"use strict";var n=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("f499"));e("c5f6"),e("ac6a");var s=n(e("9cab")),o=[],c=null,r=[],l={components:{uniPopup:s.default},onLoad:function(t){console.log(t),t.typeshop&&(this.settledType=t.typeshop),this.getruzhuinfo()},data:function(){return{showPopupBottom:!1,ruzhuinfo:[],catesinfo:[],industry_name:"",cates:"",xxaddress:"",shopinfo:{},settledType:1,pirkCity:{prores:[],cityres:[],areares:[]},pro_name:{},city_name:{},area_name:{},disabled:0,disabled2:0,portrait:"",cardZ:"",cardF:"",frsfz_pic:"",license:"",supplement:""}},onShow:function(){var t=this;this.$http.getpro().then(function(i){200==i.status&&(t.pirkCity.prores=i.data)})},methods:{bindPickerChange:function(t,i){var e=this;1==t?this.pirkCity.prores.forEach(function(t,n){n==i.detail.value&&(e.pro_name=t,e.$http.getcity({pro_id:t.id}).then(function(t){200==t.status&&(e.pirkCity.cityres=t.data,e.disabled=1)}))}):2==t?this.pirkCity.cityres.forEach(function(t,n){n==i.detail.value&&(e.city_name=t,e.$http.getarea({city_id:t.id}).then(function(t){200==t.status&&(e.pirkCity.areares=t.data,e.disabled2=1)}))}):this.pirkCity.areares.forEach(function(t,n){n==i.detail.value&&(e.area_name=t)})},infoImg:function(t,i){var e=this,n=t.currentTarget.dataset.id,a=i||1;uni.chooseImage({count:a,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){switch(console.log(t),Number(n)){case 1:e.portrait=t.tempFiles,o[0]=t.tempFilePaths[0];break;case 2:e.cardZ=t.tempFiles,o[1]=t.tempFilePaths[0];break;case 3:e.cardF=t.tempFiles,o[2]=t.tempFilePaths[0];break;case 4:e.license=t.tempFiles,o[4]=t.tempFilePaths[0];break;case 5:e.supplement=t.tempFiles;for(var i=0;i<t.tempFilePaths.length;i++)o[4+Number(i)+1]=t.tempFilePaths[i];break;case 6:e.frsfz_pic=t.tempFiles,o[3]=t.tempFilePaths[0]}}})},previeImage:function(t){var i=[];t.forEach(function(t){i.push(t.path)}),uni.previewImage({indicator:"number",urls:i})},getruzhuinfo:function(){var t=this;this.$http.getruzhuinfo().then(function(i){200==i.status&&(t.ruzhuinfo=i.data.industryres,3==i.data.zhuangtai?uni.redirectTo({url:"/pages/moneyCartSon/Settledin"}):4==i.data.zhuangtai&&uni.redirectTo({url:"/pages/loginSon/settingWx"}))})},bindPickerindustry:function(t){var i=this;console.log(t);var e=t.detail.value;this.ruzhuinfo.forEach(function(t,n){n==e&&(i.industry_name=t.industry_name,c=t.id,console.log(t),i.$http.getcates({indus_id:t.id}).then(function(t){200==t.status&&(i.catesinfo=t.data)}))})},checkcates:function(){if(!this.industry_name)return this.$toast("请先选择行业"),!1;this.showPopupBottom=!0},hidePopup:function(){this.showPopupBottom=!1},checkboxChange:function(t){r=t.detail.value,console.log(r.join(","),"++++++");for(var i=[],e=0;e<this.catesinfo.length;e++)for(var n=0;n<r.length;n++)r[n]==this.catesinfo[e].id&&i.push(this.catesinfo[e].cate_name);this.cates=i.join("、")},submitinfo:function(){if(""==this.industry_name)return this.$toast("请选择行业"),!1;if(""==this.cates)return this.$toast("请选择经营类目"),!1;if(!this.pro_name.pro_name&&!this.city_name.city_name&&!this.area_name.area_name)return this.$toast("请选择省、市、区"),!1;if(""==this.xxaddress)return this.$toast("请输入详细地址"),!1;if(""==this.portrait)return this.$toast("请选择商家logo"),!1;if(""==this.shopinfo.name)return this.$toast("请填写真实姓名"),!1;if(""==this.shopinfo.phone)return this.$toast("请输入手机号"),!1;if(""==this.shopinfo.bank)return this.$toast("请输入身份证账号"),!1;if(""==this.shopinfo.email)return this.$toast("请输入邮箱"),!1;if(""==this.shopinfo.shopname)return this.$toast("请输入店铺名称"),!1;if(""==this.cardZ)return this.$toast("请选择身份证正面"),!1;if(""==this.cardF)return this.$toast("请选择身份证反面"),!1;if(""==this.frsfz_pic)return this.$toast("请选择手持身份证正面"),!1;if(""==this.license&&2==this.settledType)return this.$toast("请选择营业执照"),!1;if(""==this.supplement)return this.$toast("请选择补充材料（最多5张）"),!1;for(var t=[],i=0;i<o.length;i++)t.push({name:"imageres"+i,uri:o[i]?o[i]:""});var e={apply_type:this.settledType,indus_id:c,cate_ids:r.join(","),shop_name:this.shopinfo.shopname,shop_desc:this.shopinfo.shop_desc,logo:this.portrait[0].path,sfz_num:this.shopinfo.bank,contacts:this.shopinfo.name,telephone:this.shopinfo.phone,email:this.shopinfo.email,pro_id:this.pro_name.id,city_id:this.city_name.id,area_id:this.area_name.id,address:this.xxaddress,imageres:t};this.$loading(),1==this.settledType?this.personConfirm(e,"apicloud/ApplyInfo/personapply"):2==this.settledType&&this.personConfirm(e,"apicloud/ApplyInfo/comapply")},personConfirm:function(t,i){var e=this;this.$http.getpersonapply(t,i).then(function(t){t=JSON.parse(t),200==t.status?(console.log((0,a.default)(t)),e.$toast(t.mess),setTimeout(function(){uni.redirectTo({url:"/pages/moneyCartSon/Settledin"})},1500)):e.$toast(t.mess)})}}};i.default=l},4109:function(t,i,e){"use strict";e.r(i);var n=e("3ac1"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);i["default"]=a.a},6802:function(t,i,e){var n=e("d531");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("78691e0e",n,!0,{sourceMap:!1,shadowMode:!1})},"6fd9":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".uni-mask[data-v-e98189f4]{height:100vh;position:fixed;z-index:9998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-e98189f4]{position:absolute;z-index:9999;background-color:initial;box-shadow:0 0 %?30?% rgba(0,0,0,.1)}.uni-popup-bottom[data-v-e98189f4]{background-color:#fff;position:fixed;left:0;bottom:0;width:100%;text-align:center}",""])},"9cab":function(t,i,e){"use strict";e.r(i);var n=e("f023"),a=e("2719");for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);e("d2b4");var o,c=e("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"e98189f4",null,!1,n["a"],o);i["default"]=r.exports},b959:function(t,i,e){"use strict";var n=e("6802"),a=e.n(n);a.a},c38b:function(t,i,e){var n=e("6fd9");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("51dda45a",n,!0,{sourceMap:!1,shadowMode:!1})},c7f9:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},msg:{type:String,default:""}},data:function(){var t=0;return t=44,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};i.default=n},d2b4:function(t,i,e){"use strict";var n=e("c38b"),a=e.n(n);a.a},d531:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".per-lists[data-v-2b4c1ed7]{margin:0!important}.per-lists uni-picker[data-v-2b4c1ed7]{width:100%}.per-lists uni-picker uni-input[data-v-2b4c1ed7]{width:100%;color:#333}.per-lists .infoImg[data-v-2b4c1ed7]{width:%?80?%!important;height:%?80?%!important;border-radius:%?10?%}.per-lists .items-images[data-v-2b4c1ed7]{padding:0 %?30?% %?30?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.per-lists .items-images uni-image[data-v-2b4c1ed7]{width:49%!important;height:%?215?%!important}.filephoto[data-v-2b4c1ed7]{background-color:#fff;padding-bottom:%?45?%}.filephoto .cation-info[data-v-2b4c1ed7]{background-color:#fff}.filephoto uni-image[data-v-2b4c1ed7]{display:block;width:%?344?%;height:%?203?%;margin:0 auto}.filephoto .num[data-v-2b4c1ed7]{text-align:center;color:#999;font-size:%?30?%;margin-top:%?20?%}.person-button[data-v-2b4c1ed7]{padding-bottom:%?20?%!important}.person-button .btn-text[data-v-2b4c1ed7]{text-align:left!important}.scroll-Y[data-v-2b4c1ed7]{height:%?500?%}.uni-list-cell-pd[data-v-2b4c1ed7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?90?%;line-height:%?90?%;padding-left:%?30?%}.checkbox-3[data-v-2b4c1ed7]{width:100%;text-align:left}",""])},e92d:function(t,i,e){"use strict";var n,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"index_class "},[e("v-uni-view",{staticClass:"per-lists"},[e("v-uni-view",{staticClass:"items"},[e("v-uni-picker",{attrs:{mode:"selector","range-key":"industry_name",range:t.ruzhuinfo},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerindustry.apply(void 0,arguments)}}},[e("v-uni-input",{attrs:{type:"text",disabled:"true",placeholder:"请选择行业"},model:{value:t.industry_name,callback:function(i){t.industry_name=i},expression:"industry_name"}})],1),e("i",{staticClass:"iconfont icon_e60c"})],1),e("v-uni-view",{staticClass:"items",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkcates.apply(void 0,arguments)}}},[e("v-uni-input",{attrs:{type:"text",disabled:"true",placeholder:"请选择经营类目"},model:{value:t.cates,callback:function(i){t.cates=i},expression:"cates"}}),e("i",{staticClass:"iconfont icon_e60c"})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-view",[t._v("头像")]),e("v-uni-view",[e("v-uni-image",{staticClass:"infoImg",attrs:{"data-id":"1",src:t.portrait?t.portrait[0].path:"../../static/images/img/shop4.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg.apply(void 0,arguments)}}})],1)],1)],1),e("v-uni-view",{staticClass:"cation-info"},[t._v("认证信息")]),e("v-uni-view",{staticClass:"per-lists"},[e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入真实姓名"},model:{value:t.shopinfo.name,callback:function(i){t.$set(t.shopinfo,"name",i)},expression:"shopinfo.name"}})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请输入手机号"},model:{value:t.shopinfo.phone,callback:function(i){t.$set(t.shopinfo,"phone",i)},expression:"shopinfo.phone"}})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入身份证号码"},model:{value:t.shopinfo.bank,callback:function(i){t.$set(t.shopinfo,"bank",i)},expression:"shopinfo.bank"}})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入邮箱"},model:{value:t.shopinfo.email,callback:function(i){t.$set(t.shopinfo,"email",i)},expression:"shopinfo.email"}})],1),e("v-uni-view",{staticClass:"items",staticStyle:{border:"0"}},[e("v-uni-view",[t._v("身份证件")])],1),e("v-uni-view",{staticClass:" items-images",staticStyle:{border:"0"}},[e("v-uni-image",{attrs:{"data-id":"2",src:t.cardZ?t.cardZ[0].path:"../../static/images/img/shop1.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg.apply(void 0,arguments)}}}),e("v-uni-image",{attrs:{"data-id":"3",src:t.cardF?t.cardF[0].path:"../../static/images/img/shop2.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"cation-info"},[t._v("店铺信息")]),e("v-uni-view",{staticClass:"per-lists"},[e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入店铺名称"},model:{value:t.shopinfo.shopname,callback:function(i){t.$set(t.shopinfo,"shopname",i)},expression:"shopinfo.shopname"}})],1),e("v-uni-view",{staticStyle:{padding:"30upx 0 0 24upx"}},[e("v-uni-textarea",{staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入店铺描述"},model:{value:t.shopinfo.shop_desc,callback:function(i){t.$set(t.shopinfo,"shop_desc",i)},expression:"shopinfo.shop_desc"}})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-picker",{attrs:{mode:"selector","range-key":"pro_name",range:t.pirkCity.prores},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange(1,i)}}},[e("v-uni-input",{attrs:{type:"text",disabled:"true",value:t.pro_name.pro_name,placeholder:"请选择所在省"}})],1),e("i",{staticClass:"iconfont icon_e60c"})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-picker",{attrs:{mode:"selector","range-key":"city_name",disabled:1!=t.disabled,range:t.pirkCity.cityres},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isdisabled.apply(void 0,arguments)},change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange(2,i)}}},[e("v-uni-input",{attrs:{type:"text",disabled:"true",value:t.city_name.city_name,placeholder:"请选择所在市"}})],1),e("i",{staticClass:"iconfont icon_e60c"})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-picker",{attrs:{"range-key":"area_name",disabled:1!=t.disabled2,range:t.pirkCity.areares},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isdisabled.apply(void 0,arguments)},change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange(3,i)}}},[e("v-uni-input",{attrs:{type:"text",disabled:"true",value:t.area_name.area_name,placeholder:"请选择所在区"}})],1),e("i",{staticClass:"iconfont icon_e60c"})],1),e("v-uni-view",{staticClass:"items"},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"详细地址"},model:{value:t.xxaddress,callback:function(i){t.xxaddress=i},expression:"xxaddress"}}),e("i",{staticClass:"iconfont "})],1)],1),e("v-uni-view",{staticClass:"filephoto"},[e("v-uni-view",{staticClass:"cation-info"},[t._v("手持身份证正面")]),e("v-uni-image",{attrs:{"data-id":"6",src:t.frsfz_pic?t.frsfz_pic[0].path:"../../static/images/img/shop3.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg(i)}}})],1),2==t.settledType?e("v-uni-view",{staticClass:"filephoto"},[e("v-uni-view",{staticClass:"cation-info"},[t._v("营业执照")]),e("v-uni-image",{attrs:{"data-id":"4",src:t.license?t.license[0].path:"../../static/images/img/shop3.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg.apply(void 0,arguments)}}})],1):t._e(),e("v-uni-view",{staticClass:"filephoto"},[e("v-uni-view",{staticClass:"cation-info"},[t._v("补充材料（可选最多五张）"),t.supplement?e("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.previeImage(t.supplement)}}},[t._v("预览")]):t._e()],1),e("v-uni-image",{attrs:{"data-id":"5",src:t.supplement?t.supplement[0].path:"../../static/images/img/shop3.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.infoImg(i,5)}}}),e("v-uni-view",{staticClass:"num"},[t._v(t._s(t.supplement?t.supplement.length:0)+"/5")])],1),e("v-uni-view",{staticClass:"person-button"},[e("v-uni-button",{staticClass:"btn",attrs:{type:"warn"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitinfo.apply(void 0,arguments)}}},[t._v("提交审核")]),e("v-uni-view",{staticClass:"btn-text"},[t._v("1.请认真填写资料,资料提交成功后不可更")]),e("v-uni-view",{staticClass:"btn-text"},[t._v("2.信息仅用于实名认证,平台保障您的信息安全")])],1),e("uni-popup",{attrs:{show:t.showPopupBottom},on:{hidePopup:function(i){arguments[0]=i=t.$handleEvent(i),t.hidePopup.apply(void 0,arguments)}}},[e("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"}},[e("v-uni-checkbox-group",{staticClass:"uni-list",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.checkboxChange.apply(void 0,arguments)}}},[e("v-uni-label",{staticClass:"label-3"},t._l(t.catesinfo,function(i,n){return e("v-uni-view",{key:n,staticClass:"uni-list-cell uni-list-cell-pd"},[e("v-uni-checkbox",{staticClass:"checkbox-3",attrs:{value:i.id}},[t._v(t._s(i.cate_name))])],1)}),1)],1)],1)],1)],1)},s=[];e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"a",function(){return n})},f023:function(t,i,e){"use strict";var n,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},attrs:{catchtouchmove:"return"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hide.apply(void 0,arguments)}}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-bottom"]},[t._v(t._s(t.msg)),t._t("default")],2)],1)},s=[];e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"a",function(){return n})}}]);