(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-homeSon-storeDetails"],{"0697":function(t,i,e){var s=e("6667");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=e("4f06").default;n("269ec95e",s,!0,{sourceMap:!1,shadowMode:!1})},"1f5c":function(t,i,e){"use strict";var s,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"index_class"},[e("v-uni-view",{staticClass:"bus-top"},[e("v-uni-view",{staticClass:"status"}),e("v-uni-view",{staticClass:"to-tltle"},[e("i",{staticClass:"iconfont icon_e675 back",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getback()}}}),e("v-uni-view",{staticClass:"shop-search"},[e("i",{staticClass:"icon iconfont icon_e819"}),e("v-uni-input",{attrs:{placeholder:"请输入关键词搜索"}}),e("v-uni-view",{staticClass:"bus-tap"},[t._v("搜索")])],1),e("v-uni-view",{staticClass:"delete"},[e("i",{staticClass:"iconfont icon_e64c",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getnav("/pages/homeSon/shopfilter?shop_id="+t.shops.id)}}})])],1)],1),t.shops?e("v-uni-view",{staticClass:"store-content"},[e("v-uni-view",{staticClass:"coupon"},[e("v-uni-view",{staticClass:"pos-coupon"},[e("v-uni-view",{staticClass:"cou-top"},[e("v-uni-view",{staticClass:"left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getnav("/pages/homeSon/shopintroduce?shop_id="+t.shopId)}}},[e("v-uni-image",{attrs:{src:t.shops.logo}}),e("v-uni-view",[e("v-uni-text",{staticClass:"text"},[t._v(t._s(t.shops.shop_name))]),e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v("品牌直营")]),t._v("好评:"+t._s(t.shops.praise_lv)+" | 成交量"+t._s(t.shops.deal_num))],1)],1)],1),e("v-uni-view",{staticClass:"right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickcoll.apply(void 0,arguments)}}},[e("i",{staticClass:"iconfont icon_e646",class:{iconColor:t.shops.coll_shops}}),e("v-uni-view",[t._v(t._s(0==t.shops.coll_shops?"收藏":"已收藏"))])],1)],1),e("v-uni-view",{staticClass:"cou-btn"},t._l(t.couponres,function(i,s){return e("v-uni-view",{key:s,staticClass:"btn-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.lingqu(i)}}},[e("v-uni-view",[t._v("￥"+t._s(i.dec_price)+"\n                               满￥"+t._s(i.man_price)+"可用")]),e("v-uni-text",[t._v(t._s(i.start_time)+"至"+t._s(i.end_time))]),1==i.have?e("v-uni-image",{staticClass:"pos-top-img",attrs:{src:"/static/images/img/lingjuan.png"}}):t._e()],1)}),1)],1)],1),t._l(t.promotionres,function(i,s){return e("v-uni-view",{key:s,staticClass:"promot",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getnav("/pages/homeSon/huodongDate?shop_id="+t.shops.id+"&prom_id="+i.id+"&goods_id="+i.goods_id)}}},[e("v-uni-image",{attrs:{src:i.pic_url}})],1)}),t.cxgoodres.length?e("v-uni-view",{staticClass:"type-fliter"},[e("v-uni-view",{staticStyle:{padding:"15upx 20upx","font-size":"30upx"}},[t._v("今日必抢")]),e("v-uni-view",{staticClass:"r-list"},t._l(t.cxgoodres,function(i,s){return e("v-uni-view",{key:s,staticClass:"r-items",attrs:{"hover-class":"item-active-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getnav("/pages/homeSon/shop_details?id="+i.id)}}},[e("v-uni-image",{attrs:{src:i.thumb_url}}),e("v-uni-text",{staticStyle:{"text-align":"left"}},[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"r-money"},[e("v-uni-text",[t._v("¥"+t._s(i.zs_price))])],1),e("v-uni-view",{staticClass:"r-bottom"},[i.coupon?e("v-uni-image",{attrs:{src:"../../static/images/img/juan.png"}}):t._e(),1===i.is_activity?e("v-uni-text",[t._v("秒杀")]):t._e(),2===i.is_activity?e("v-uni-text",[t._v("团购")]):t._e(),1===i.leixing?e("v-uni-text",[t._v("自营")]):t._e()],1)],1)}),1)],1):t._e(),e("v-uni-view",{staticClass:"header-filter",class:{"header-filter-active":t.position}},[e("v-uni-view",{staticClass:"items ",class:[1==t.showIndex?"filter-active":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchIndex(1,"zonghe")}}},[t._v("综合排序")]),e("v-uni-view",{staticClass:"items",class:[2==t.showIndex?"filter-active":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchIndex(2,"deal_num")}}},[t._v("销量优先")]),e("v-uni-view",{staticClass:"items money_al",class:[3===t.showIndex?"filter-active":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchIndex(3,"praise_lv")}}},[e("v-uni-text",[t._v("价格")]),e("v-uni-view",{staticClass:"over"},[e("i",{staticClass:"iconfont icon_eb15",class:{"ac-color":1===t.filteAl}}),e("i",{staticClass:"iconfont icon_eb14",class:{"ac-color":2===t.filteAl}})])],1),e("v-uni-view",{staticClass:"items",class:[4==t.showIndex?"filter-active":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchIndex(4,"new")}}},[t._v("新品")]),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getnav("/pages/homeSon/shopfilter?shop_id="+t.shops.id)}}},[t._v("分类")])],1),e("v-uni-view",{staticClass:"type-fliter"},[e("v-uni-view",{staticClass:"r-list"},t._l(t.goodres,function(i,s){return e("v-uni-view",{key:s,staticClass:"r-items",attrs:{"hover-class":"item-active-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getnav("/pages/homeSon/shop_details?id="+i.id)}}},[e("v-uni-image",{attrs:{src:i.thumb_url}}),e("v-uni-text",{staticStyle:{"text-align":"left"}},[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"r-money"},[e("v-uni-text",[t._v("¥"+t._s(i.zs_price))])],1),e("v-uni-view",{staticClass:"r-bottom"},[i.coupon?e("v-uni-image",{attrs:{src:"../../static/images/img/juan.png"}}):t._e(),1===i.is_activity?e("v-uni-text",[t._v("秒杀")]):t._e(),2===i.is_activity?e("v-uni-text",[t._v("团购")]):t._e()],1)],1)}),1),0==t.goodres.length?e("v-uni-view",{staticClass:"depot"},[e("v-uni-image",{staticClass:"img",attrs:{src:"../../static/images/img/cartinfo.png"}}),e("v-uni-view",{staticClass:"tps",staticStyle:{"margin-top":"15upx"}},[t._v("暂无商品")])],1):t._e()],1),e("loadMore",{attrs:{loadingType:t.loadingType}})],2):t._e()],1)},o=[];e.d(i,"b",function(){return n}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return s})},"65e8":function(t,i,e){"use strict";e.r(i);var s=e("b385"),n=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(i,t,function(){return s[t]})}(o);i["default"]=n.a},6667:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".promot[data-v-a95c47e6]{width:100%;height:%?380?%}.promot uni-image[data-v-a95c47e6]{width:100%;height:100%}.index_class[data-v-a95c47e6]{background-color:#fff!important}.header-filter[data-v-a95c47e6],.type-fliter[data-v-a95c47e6]{position:relative!important}.header-filter-active[data-v-a95c47e6]{position:fixed!important;width:100%;left:0;top:%?100?%;z-index:9}.shop-search[data-v-a95c47e6]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:%?93?%;height:%?60?%;width:%?550?%;background-color:#eeefef;border-radius:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.shop-search .iconfont[data-v-a95c47e6]{height:%?60?%;line-height:%?60?%;width:%?60?%;text-align:center;color:#999}.shop-search .bus-tap[data-v-a95c47e6]{height:%?60?%;line-height:%?60?%;width:%?100?%;text-align:center;color:#333}.shop-search uni-input[data-v-a95c47e6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#999;text-align:left}.delete[data-v-a95c47e6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.delete .icon_e64c[data-v-a95c47e6]{font-size:%?50?%}",""])},"75fc":function(t,i,e){"use strict";e.r(i);var s=e("a745"),n=e.n(s);function o(t){if(n()(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}var a=e("774e"),c=e.n(a),l=e("c8bb"),r=e.n(l);function u(t){if(r()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){return o(t)||u(t)||v()}e.d(i,"default",function(){return h})},a149:function(t,i,e){"use strict";var s=e("0697"),n=e.n(s);n.a},b385:function(t,i,e){"use strict";var s=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=s(e("75fc"));e("ac6a");var o=0,a={shop_id:"",sort:"zonghe",page:1},c={onLoad:function(t){console.log(t),a.page=1,a.shop_id=t.shop_id,this.shopId=t.shop_id,this.$loading(),this.getallgoods(a),this.getshopinfo()},onShow:function(){var t=this;this.filterTop||setTimeout(function(i){var e=uni.createSelectorQuery().select(".header-filter");e.boundingClientRect(function(i){t.filterTop=i.top}).exec()},800)},onPageScroll:function(t){t.scrollTop>this.filterTop-100-o?this.position=!0:this.position=!1},data:function(){return{loadingType:0,showIndex:1,cxgoodres:[],shops:"",couponres:[],promotionres:[],goodres:[],showPopupBottom:!1,position:!1,filteAl:0,valueStatus:0,filterTop:"",shopId:""}},watch:{showPopupBottom:function(){this.statusMath(this)}},onReachBottom:function(){if(1==this.loadingType||2==this.loadingType)return!1;this.loadingType=1,a.page++,this.getallgoods(a)},methods:{lingqu:function(t){var i=this;0==t.have&&(this.$loading(),this.$http.getcoupons({coupon_id:t.id,shop_id:t.shop_id}).then(function(e){200==e.status&&(i.$toast(e.mess),i.couponres.forEach(function(i,e){i.id==t.id&&(i.have=1)}))}))},searchIndex:function(t,i){this.showIndex=t,a.sort=i,a.page=1,this.loadingType=0,3===t&&(1===this.filteAl?(this.filteAl=2,a.sort="height_low"):(this.filteAl=1,a.sort="low_height")),this.getallgoods(a)},getallgoods:function(t){var i=this;this.$http.getallgoods(t).then(function(t){if(200==t.status){if(a.page>1)return 0==t.data.length?(i.loadingType=2,!1):(i.goodres=[].concat((0,n.default)(i.goodres),(0,n.default)(t.data)),i.loadingType=0,!1);i.goodres=t.data,i.statusMath(i)}})},getshopinfo:function(){var t=this;this.$http.getshopinfo({shop_id:a.shop_id}).then(function(i){200==i.status&&(t.shops=i.data.shops,t.couponres=i.data.couponres,t.promotionres=i.data.promotionres,t.cxgoodres=i.data.cxgoodres)})},clickcoll:function(){var t=this;if(!uni.getStorageSync("token"))return uni.redirectTo({url:"/pages/loginSon/login?islogin=0"}),!1;1==this.shops.coll_shops?(this.$loading(),this.$http.getshopcancelcoll({shop_id:a.shop_id}).then(function(i){200==i.status&&(t.$toast(i.mess),t.shops.coll_shops=0)})):(this.$loading(),this.$http.getshopcoll({shop_id:a.shop_id}).then(function(i){200==i.status&&(t.$toast(i.mess),t.shops.coll_shops=1)}))}}};i.default=c},e893:function(t,i,e){"use strict";e.r(i);var s=e("1f5c"),n=e("65e8");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("a149");var a,c=e("f0c5"),l=Object(c["a"])(n["default"],s["b"],s["c"],!1,null,"a95c47e6",null,!1,s["a"],a);i["default"]=l.exports}}]);