(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-squareSon-Catcher"],{"1b8a":function(t,i,n){"use strict";n.r(i);var a=n("1fc3"),e=n("31b5");for(var s in e)"default"!==s&&function(t){n.d(i,t,function(){return e[t]})}(s);n("233e");var o,c=n("f0c5"),u=Object(c["a"])(e["default"],a["b"],a["c"],!1,null,"b8ebac26",null,!1,a["a"],o);i["default"]=u.exports},"1fc3":function(t,i,n){"use strict";var a,e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return t.pageShow?n("v-uni-view",{staticClass:"index_class"},[n("v-uni-view",{staticClass:"cat-dynamic"},[n("v-uni-view",{staticClass:"cat-banner"},[n("v-uni-image",{attrs:{src:"../../static/images/img/cat-banner.png"}}),n("v-uni-view",{staticClass:"cat-center"},[n("v-uni-view",{staticClass:"cat-name"},[t._v("#"+t._s(t.storeInfo.shop_name)+"#")]),n("v-uni-view",{staticClass:"cat-number"},[t._v(t._s(t.storeInfo.dt))])],1)],1),n("v-uni-view",{staticClass:"cat-text"},[n("v-uni-view",{staticClass:"cat-top"},[t._v(t._s(t.storeInfo.shop_desc))])],1),n("v-uni-view",{staticClass:"cat-tab"},[n("v-uni-view",[t._v("最新")]),n("v-uni-view",{staticClass:"nav-tab"},[n("v-uni-text",{class:{active:1===t.currIndex},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gettab(1)}}},[t._v("动态")]),n("v-uni-text",{class:{active:2===t.currIndex},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gettab(2)}}},[t._v("商品")])],1)],1),1==t.currIndex?n("v-uni-view",{staticClass:"seg-mend"},[t._l(t.dynamicList,function(i,a){return n("v-uni-view",{key:a,staticClass:"seg-mend"},[n("v-uni-view",{staticClass:"seg-top"},[n("v-uni-view",{staticClass:"seg-left"},[n("v-uni-image",{attrs:{src:i.headimgurl}}),n("v-uni-view",[n("v-uni-text",[t._v(t._s(i.user_name))]),n("v-uni-text",{staticClass:"datatime"},[t._v(t._s(i.createtime))])],1)],1),n("v-uni-view",{class:!0})],1),n("v-uni-view",{staticClass:"seg-text"},[t._v(t._s(i.describe))]),n("v-uni-view",{staticClass:"seg-img"},t._l(i.imgurl,function(a,e){return n("v-uni-image",{key:e,staticClass:"scoll-items",attrs:{src:a},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.preview(i.imgurl,a)}}})}),1),n("v-uni-view",{staticClass:"seg-bottom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getnav("/pages/homeSon/shop_details?id="+i.gid)}}},[n("v-uni-image",{staticClass:"scoll-items",attrs:{src:i.thumb_url}}),n("v-uni-text",[t._v(t._s(i.goods_name))])],1),n("v-uni-view",{staticClass:"download"},[n("v-uni-view",{staticClass:"download-item",class:{"download-active":1===i.is_laud},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.like(i.id)}}},[n("i",{staticClass:"iconfont icon_e66f",staticStyle:{"margin-right":"8upx"}}),t._v(t._s(i.laudcount))]),n("v-uni-view",{staticClass:"download-item",class:{"download-active":1===i.is_download},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.save(a)}}},[n("i",{staticClass:"iconfont icon_e680",staticStyle:{"margin-right":"8upx"}}),t._v(t._s(i.download))]),n("v-uni-view",{staticClass:"download-item",class:{"download-active":1===i.is_share},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onShare(i.id,a)}}},[n("i",{staticClass:"iconfont icon_e66b",staticStyle:{"margin-right":"8upx"}}),t._v(t._s(i.sharecount))])],1)],1)}),n("loadMore",{attrs:{loadingType:t.loadingType1}})],2):t._e(),2==t.currIndex?n("v-uni-view",{staticClass:"r-list"},t._l(t.goodsList,function(i,a){return n("v-uni-view",{key:a,staticClass:"r-items",attrs:{"hover-class":"item-active-hover"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getnav("/pages/homeSon/shop_details?id="+i.id)}}},[n("v-uni-image",{attrs:{src:i.thumb_url}}),n("v-uni-text",[t._v(t._s(i.goods_name))]),n("v-uni-view",{staticClass:"r-money"},[n("v-uni-text",[t._v("¥"+t._s(i.market_price))]),n("v-uni-view",{staticClass:"r-btn"},[t._v("购买")])],1)],1)}),1):t._e(),2==t.currIndex?n("loadMore",{attrs:{loadingType:t.loadingType2}}):t._e()],1)],1):t._e()},s=[];n.d(i,"b",function(){return e}),n.d(i,"c",function(){return s}),n.d(i,"a",function(){return a})},"233e":function(t,i,n){"use strict";var a=n("92d6"),e=n.n(a);e.a},"31b5":function(t,i,n){"use strict";n.r(i);var a=n("6633"),e=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(i,t,function(){return a[t]})}(s);i["default"]=e.a},6633:function(t,i,n){"use strict";var a=n("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=a(n("f499"));n("ac6a");var s=1,o=1,c={data:function(){return{currIndex:1,dynamicList:[],goodsList:[],loadingType1:0,loadingType2:0,pageShow:!1,storeInfo:{}}},onLoad:function(){this.$loading(),this.getfindgoodsinfor(),this.getDynamicList()},methods:{like:function(t){var i=this;this.$http.like({fid:t}).then(function(n){200==n.status&&(i.$toast(n.mess),"点赞成功"===n.mess?i.dynamicList.map(function(i){return i.id===t&&(i.is_laud=1,i.laudcount=i.laudcount+1),i}):"取消点赞"===n.mess&&i.dynamicList.map(function(i){return i.id===t&&(i.is_laud=0,i.laudcount=i.laudcount-1),i}))})},save:function(t){var i=this;if(!uni.getStorageSync("token"))return this.getnav("/pages/loginSon/login"),!1;var n=1===this.dynamicList[t].download,a=this.dynamicList[t].imgurl;this.$loading("正在下载中"),a.forEach(function(s,o){if("gif"===s.substr(-3).toLocaleLowerCase())return i.$toast("gif动态暂时无法下载"),i.$hideLoading(),!1;plus.gallery.save(s,function(){o===a.length-1&&(i.$toast("下载完成"),i.$http.downloadpic({fid:i.dynamicList[t].id}).then(function(a){200===a.status&&(n||i.dynamicList.map(function(n){return n.id===i.dynamicList[t].id&&(n.download=1),n}))}).catch(function(t){console.log((0,e.default)(t))})),console.log("save success")},function(){i.$toast("保存失败")}),i.$hideLoading()})},onShare:function(t,i){var n=this;if(!uni.getStorageSync("token"))return this.getnav("/pages/loginSon/login"),!1;var a=this.dynamicList[i];this.$utils.share({summary:a.describe,href:"https://nycs.maitexun.cn/index/apppage/find?id=".concat(t),title:"欢迎体验WoSmart",callBack:function(){n.$http.sharewxpy({fid:t}).then(function(i){200===i.status&&(n.dynamicList.map(function(i){return i.id===t&&1!==i.is_share&&(i.sharecount=i.sharecount+1,i.is_share=1),i}),n.$toast("分享成功"))})}})},getfindgoodsinfor:function(){var t=this;this.$http.getfindgoodsinfor({mid:this.$mp.query.mid}).then(function(i){200===i.status&&(t.storeInfo=i.data)})},gettab:function(t){this.currIndex=t,1===this.index?this.getDynamicList():this.getfindgoods()},clickFollow:function(t){var i=this;if(!uni.getStorageSync("token"))return this.getnav("/pages/login/loginSon"),!1;this.$http.getfollow({mid:t}).then(function(n){200==n.status&&(i.$toast(n.mess),"关注成功"===n.mess?i.dynamicList.map(function(i){return i.mid===t&&(i.is_follow=1),i}):"取消关注"===n.mess&&i.dynamicList.map(function(i){return i.mid===t&&(i.is_follow=0),i}))})},getDynamicList:function(){var t=this;if(2===this.loadingType1)return!1;this.loadingType1=1,this.$http.getsquareList({page:s,size:5,mid:this.$mp.query.mid}).then(function(i){if(t.pageShow||(t.pageShow=!0),200===i.status){if(!i.data.data.length)return t.loadingType1=2,!1;t.statusMath(t),t.dynamicList=t.dynamicList.concat(i.data.data),t.loadingType1=0,s+=1}})},getfindgoods:function(){var t=this;if(2===this.loadingType2)return!1;this.loadingType2=2,this.$http.getfindgoods({page:o,size:5,mid:this.$mp.query.mid}).then(function(i){if(t.pageShow||(t.pageShow=!0),200===i.status){if(!i.data.data.length)return t.loadingType2=2,!1;t.statusMath(t),t.goodsList=t.goodsList.concat(i.data.data),t.loadingType2=0,o+=1}})},preview:function(t,i){uni.previewImage({current:i,indicator:"number",urls:t})}},onReachBottom:function(){1===this.currIndex?this.getDynamicList():this.getfindgoods()},destroyed:function(){s=1,o=1}};i.default=c},"7ae5":function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,".bus-top[data-v-b8ebac26],.status[data-v-b8ebac26],.to-tltle[data-v-b8ebac26]{background-color:initial!important}.cat-number[data-v-b8ebac26]{text-align:center}.download-active[data-v-b8ebac26]{color:#fa3f3f!important}.seg-img[data-v-b8ebac26]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.seg-img uni-image[data-v-b8ebac26]{width:%?208?%!important;height:%?208?%!important;display:inline-block;margin:0 %?7?% %?10?% 0!important}.seg-img uni-image[data-v-b8ebac26]:nth-child(3n){margin-right:0!important}",""])},"92d6":function(t,i,n){var a=n("7ae5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=n("4f06").default;e("5d161124",a,!0,{sourceMap:!1,shadowMode:!1})}}]);