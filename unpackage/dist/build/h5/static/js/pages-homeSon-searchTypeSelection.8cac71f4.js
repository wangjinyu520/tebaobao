(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-homeSon-searchTypeSelection"],{"0f7a":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={props:{visible:{type:Boolean,default:!1},mode:String,mask:{type:[Boolean,String],default:!0}},data:function(){return{rightMode:!1,catchtouchmove:!1}},preventTouchMove:function(){},computed:{showMask:function(){return"true"===String(this.mask)}},created:function(){this.rightMode="right"===this.mode},methods:{close:function(){this.$emit("close")}}};i.default=a},2947:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".status[data-v-12626408]{background-color:#fff!important}.uni-drawer[data-v-12626408]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;visibility:hidden;z-index:9999999;height:100%}.uni-head[data-v-12626408]{position:absolute;top:0;right:0;height:calc(100vh - %?100?%);overflow:auto;padding-top:%?50?%;\r\n\t\t}.uni-drawer>.uni-drawer-mask[data-v-12626408]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4)}.uni-drawer>.uni-drawer-content[data-v-12626408]{display:block;position:absolute;top:0;left:0;width:70%;height:100%;background:#fff;-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-transform:translatex(-100%);transform:translatex(-100%);overflow-y:scroll!important}.uni-drawer.uni-drawer-right>.uni-drawer-content[data-v-12626408]{left:auto;right:0;-webkit-transform:translatex(100%);transform:translatex(100%)}.uni-drawer.uni-drawer-visible[data-v-12626408]{visibility:visible}.uni-drawer.uni-drawer-visible>.uni-drawer-mask[data-v-12626408]{display:block}.uni-drawer.uni-drawer-visible>.uni-drawer-content[data-v-12626408]{-webkit-transform:translatex(0);transform:translatex(0)}",""])},"29a2":function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.pageShow?e("v-uni-view",{staticClass:"index_class"},[e("v-uni-view",{staticClass:"bus-top"},[e("v-uni-view",{staticClass:"status"}),e("v-uni-view",{staticClass:"to-tltle"},[e("i",{staticClass:"iconfont icon_e675 back",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getback()}}}),t._v("搜索商品")]),e("v-uni-view",{staticClass:"bus-title-search"},[e("v-uni-view",{staticClass:"bus-search"},[e("i",{staticClass:"icon iconfont icon_e819"}),e("v-uni-input",{attrs:{placeholder:"请输入关键词搜索"},model:{value:t.searchData.keyword_name,callback:function(i){t.$set(t.searchData,"keyword_name",i)},expression:"searchData.keyword_name"}}),e("v-uni-view",{staticClass:"bus-tap",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchlocal.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1),e("v-uni-view",{staticClass:"header-filter"},[e("v-uni-view",{staticClass:"items",class:{"filter-active":1===t.showingIndex1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showOptions(1,"zonghe")}}},[t._v("综合")]),e("v-uni-view",{staticClass:"items",class:{"filter-active":2===t.showingIndex1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showOptions(2,"deal_num")}}},[t._v("销量")]),e("v-uni-view",{staticClass:"items money_al",class:{"filter-active":3===t.showingIndex1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showOptions(3)}}},[e("v-uni-text",[t._v("价格")]),e("v-uni-view",{staticClass:"over"},[e("i",{staticClass:"iconfont icon_eb15",class:{"ac-color":1===t.filteAl}}),e("i",{staticClass:"iconfont icon_eb14",class:{"ac-color":2===t.filteAl}})])],1),e("v-uni-view",{staticClass:"items",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navSearch.apply(void 0,arguments)}}},[t._v("店铺")]),e("v-uni-view",{staticClass:"items",class:{"filter-active":4===t.showingIndex1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showOptions4.apply(void 0,arguments)}}},[t._v("筛选"),e("i",{staticClass:"iconfont icon_e649"})])],1),e("v-uni-view",{staticClass:"filter-abso",attrs:{catchtouchmove:"return"}},[e("uni-drawer",{attrs:{visible:t.rightDrawerVisible,mode:"right"},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.closeRightDrawer.apply(void 0,arguments)}}},[e("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":!0}},[e("v-uni-view",{staticClass:"drawer-item"},[e("v-uni-view",{staticClass:"dr-title"},[t._v("类型")]),e("v-uni-view",{staticClass:"dr-types"},t._l(t.shop,function(i,a){return e("v-uni-text",{key:a,staticClass:"type-list",class:{active:i.check},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getCheck(a)}}},[t._v(t._s(i.str))])}),1)],1),e("v-uni-view",{staticClass:"drawer-item"},[e("v-uni-view",{staticClass:"dr-title"},[t._v("价格区间(元)")]),e("v-uni-view",{staticClass:"dr-types-monry"},[e("v-uni-view",[e("v-uni-input",{attrs:{type:"number",placeholder:"低价格"},model:{value:t.low_price,callback:function(i){t.low_price=i},expression:"low_price"}})],1),e("v-uni-view",[e("v-uni-input",{attrs:{type:"number",placeholder:"高价格"},model:{value:t.max_price,callback:function(i){t.max_price=i},expression:"max_price"}})],1),e("v-uni-view",{staticClass:"to-bgc"})],1)],1),t._l(t.filteList,function(i,a){return e("v-uni-view",{key:a,staticClass:"type-text"},[e("v-uni-view",{staticClass:"type-title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getHeight(i.id)}}},[e("v-uni-text",[t._v(t._s(i.attr_name))]),e("i",{staticClass:"iconfont icon_eb17",attrs:{"hover-class":"item-active-hover"}})],1),e("v-uni-view",{staticClass:"type-add"},[e("v-uni-view",{staticClass:"text-over",style:{height:i.height,transition:"all 0.3s ease-out"}},t._l(i.attr_values,function(a,s){return e("v-uni-text",{key:s,staticClass:"type-list",class:{active:i.active===a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getId(i.id,s,a)}}},[t._v(t._s(a))])}),1)],1)],1)})],2),e("v-uni-view",{staticClass:"conmfir"},[e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.rightDrawerLoad.apply(void 0,arguments)}}},[t._v("重置")]),e("v-uni-view",{staticClass:"complete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.completeSearch.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"type-fliter"},[e("v-uni-view",{staticClass:"status-active"}),e("v-uni-view",{staticClass:"r-list"},t._l(t.goodsList,function(i,a){return e("v-uni-view",{key:a,staticClass:"r-items",attrs:{"hover-class":"item-active-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getnav("/pages/homeSon/shop_details?id="+i.id)}}},[e("v-uni-image",{staticClass:"grace-img-lazy",attrs:{src:t.isShow[a]?i.thumb_url:"../../static/logo.png"}}),e("v-uni-text",[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"r-money"},[e("v-uni-text",[t._v("¥"+t._s(i.zs_price))])],1),e("v-uni-view",{staticClass:"r-bottom"},[i.coupon?e("v-uni-image",{attrs:{src:"../../static/images/img/quan.png"}}):t._e(),1===i.activity?e("v-uni-text",[t._v("秒杀")]):t._e(),2===i.activity?e("v-uni-text",[t._v("团购")]):t._e(),1===i.leixing?e("v-uni-text",[t._v("自营")]):t._e()],1)],1)}),1),0==t.goodsList.length?e("v-uni-view",{staticClass:"depot"},[e("v-uni-image",{staticClass:"img",attrs:{src:"../../static/images/img/shopinfo.png"}}),e("v-uni-view",{staticClass:"tps",staticStyle:{"margin-top":"15upx"}},[t._v("暂无商品")])],1):t._e(),e("loadMore",{attrs:{loadingType:t.loadingStatus}})],1)],1):t._e()},n=[];e.d(i,"b",function(){return s}),e.d(i,"c",function(){return n}),e.d(i,"a",function(){return a})},"3caa":function(t,i,e){var a=e("dac3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("18931523",a,!0,{sourceMap:!1,shadowMode:!1})},"46c8":function(t,i,e){"use strict";e.r(i);var a=e("29a2"),s=e("baef");for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);e("e984");var o,r=e("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"0374b7d9",null,!1,a["a"],o);i["default"]=c.exports},"63d4":function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer-visible":t.visible,"uni-drawer-right":t.rightMode}},[t.showMask?e("v-uni-view",{staticClass:"uni-drawer-mask",attrs:{catchtouchmove:"preventTouchMove"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}}):t._e(),e("v-uni-view",{staticClass:"uni-drawer-content"},[e("v-uni-view",{staticClass:"status"}),e("v-uni-view",{staticClass:"uni-head"},[t._t("default")],2)],1)],1)},n=[];e.d(i,"b",function(){return s}),e.d(i,"c",function(){return n}),e.d(i,"a",function(){return a})},"66bd":function(t,i,e){"use strict";e.r(i);var a=e("0f7a"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=s.a},add2:function(t,i,e){var a=e("2947");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("74069252",a,!0,{sourceMap:!1,shadowMode:!1})},b6d7:function(t,i,e){"use strict";var a=500,s=null;t.exports={load:function(t,i){null!=s&&clearTimeout(s),s=setTimeout(function(){uni.getSystemInfo({success:function(e){a=e.windowHeight,uni.createSelectorQuery().selectAll(".grace-img-lazy").fields({rect:!0},function(e){for(var s=[],n=!0,o=0;o<e.length;o++){if(!(e[o].top<=a+t)){n=!1;break}s[o]=!0}n&&(i.isShow=s)}).exec()}})},100)}}},baef:function(t,i,e){"use strict";e.r(i);var a=e("c890"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=s.a},c890:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e("cebc"));e("c5f6");var n=a(e("f499"));e("ac6a");var o=a(e("d93a")),r=e("b6d7"),c=1,l="",u={components:{uniDrawer:o.default},data:function(){return{showingIndex1:1,orderIndex:0,pageShow:!1,loadingStatus:0,sortType:"",filteList:[],currValue:0,filteAl:0,indexid:0,cateId:"",goodsList:[],rightDrawerVisible:!1,shop:[{check:!0,str:"全部商品"},{check:!1,str:"自营商品"},{check:!1,str:"活动商品"}],low_price:"",max_price:"",isShow:[],searchData:{},valueStatus:0}},onLoad:function(t){c=1,this.$loading(),this.searchData=JSON.parse(t.searchObj),this.getGoodsList({page:c,keyword_name:this.searchData.keyword_name})},onPageScroll:function(t){r.load(t.scrollTop,this)},watch:{rightDrawerVisible:function(){this.statusMath(this)}},methods:{rightDrawerLoad:function(){c=1,this.$loading(),this.loadingStatus=0,this.shop.forEach(function(t,i){t.check=!1,0==i&&(t.check=!0)}),this.getGoodsList({page:c,cate_id:this.cateId,keyword_name:this.searchData.keyword_name})},navSearch:function(){var t={keyword_name:this.searchData.keyword_name,type:2};this.getnav("/pages/homeSon/theShop?searchObj="+(0,n.default)(t))},searchlocal:function(){c=1,this.loadingStatus=0,this.showingIndex1=1,this.getGoodsList({page:c,keyword_name:this.searchData.keyword_name})},closeRightDrawer:function(){this.rightDrawerVisible=!1},showRightDrawer:function(){this.rightDrawerVisible=!0},getGoodsList:function(t){var i=this;this.$http.getsearchgoods(t).then(function(t){200===t.status?(i.pageShow=!0,i.goodsList=t.data.goodres,i.filteList=t.data.shaixuan.map(function(t){return t.height=uni.upx2px(150)+"px",t.active=null,t}),r.load(500,i),i.statusMath(i)):i.$toast(t.mess)})},showOptions:function(t,i){var e=this;return""==this.searchData.keyword_name?(this.$toast("请输入筛选关键字"),!1):(3===t||this.showingIndex1!==t)&&(this.sortType=i,this.loadingStatus=0,3===t&&(1===this.filteAl?this.filteAl=2:this.filteAl=1),3!==t&&(this.filteAl=0),this.showingIndex1=t,c=1,this.$loading(),void this.$http.getsearchgoods({page:1,keyword_name:this.searchData.keyword_name,sort:3===t?this.sortOrder():this.sortType}).then(function(t){200===t.status?(e.goodsList=t.data.goodres,e.loadingStatus=0):(e.goodsList=[],e.loadingStatus=2,e.$toast(t.mess)),uni.pageScrollTo({scrollTop:0,duration:0})}))},showOptions4:function(){this.showRightDrawer()},sortOrder:function(t){return 1===this.filteAl?"low_height":"height_low"},changeOrder:function(t){var i=t.target.dataset.itemid;this.orderIndex=i,this.showingIndex1=0},clickActive:function(t){this.indexid=t},getHeight:function(t){this.filteList.forEach(function(i){if(i.id==t){var e=Math.ceil(i.attr_values.length/3);if(i.attr_values.length<=6)return!1;if(i.height==uni.upx2px(150)+"px"){var a=uni.createSelectorQuery().select(".type-list");a.fields({size:!0,scrollOffset:!0},function(t){i.height=(Number(t.height)+15)*e+"px"}).exec()}else i.height=uni.upx2px(150)+"px"}})},getId:function(t,i,e){this.filteList.forEach(function(i,a){if(t==i.id)for(var s=0;s<=i.attr_values.length-1;s++)e==i.attr_values[s]&&(i.active=i.attr_values[s])})},completeSearch:function(){var t=this;if(""==this.searchData.keyword_name)return this.$toast("请输入筛选关键字"),!1;var i=[];this.filteList.forEach(function(t){t.active&&i.push(t.id+":"+t.active)});var e={goods_type:l,low_price:this.low_price,max_price:this.max_price,goods_attr:i.join(",")};if(c=1,this.loadingStatus=0,0!==this.loadingStatus)return!1;this.loadingStatus=1,this.goodsList=[],this.$loading(),this.$http.getsearchgoods((0,s.default)({page:c,keyword_name:this.searchData.keyword_name,sort:3===this.showingIndex1?this.sortOrder():this.sortType},e)).then(function(i){200===i.status?(t.goodsList=i.data.goodres,t.loadingStatus=0):300===i.status?t.loadingStatus=2:t.$toast(i.mess),t.rightDrawerVisible=!1}).catch(function(){t.loadingStatus=0})},getCheck:function(t){this.shop.forEach(function(i,e){i.check=!1,t==e&&(i.check=!0,l=i.str)})}},onReachBottom:function(){var t=this;if(0!==this.loadingStatus)return!1;this.loadingStatus=1,this.$http.getsearchgoods({page:c+1,keyword_name:this.searchData.keyword_name,sort:3===this.showingIndex1?this.sortOrder():this.sortType}).then(function(i){if(200===i.status){if(0==i.data.goodres.length)return t.loadingStatus=2,!1;r.load(500,t),t.goodsList=t.goodsList.concat(i.data.goodres),t.loadingStatus=0,c+=1}else t.$toast(i.mess)}).catch(function(){t.loadingStatus=0})}};i.default=u},d93a:function(t,i,e){"use strict";e.r(i);var a=e("63d4"),s=e("66bd");for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);e("ed36");var o,r=e("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"12626408",null,!1,a["a"],o);i["default"]=c.exports},dac3:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-0374b7d9]{background:#f4f4f4}.money_al[data-v-0374b7d9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.over[data-v-0374b7d9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.over i[data-v-0374b7d9]{color:#999}.ac-color[data-v-0374b7d9]{color:#fa3f3f!important}.index_class[data-v-0374b7d9],uni-page-body[data-v-0374b7d9]{height:100%}.to-tltle[data-v-0374b7d9]{padding:0!important;margin:0!important}.status[data-v-0374b7d9]{background-color:red!important;position:relative!important}body.?%PAGE?%[data-v-0374b7d9]{background:#f4f4f4}",""])},e984:function(t,i,e){"use strict";var a=e("3caa"),s=e.n(a);s.a},ed36:function(t,i,e){"use strict";var a=e("add2"),s=e.n(a);s.a}}]);