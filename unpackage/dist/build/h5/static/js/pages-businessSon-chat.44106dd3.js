(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-businessSon-chat"],{"06b6":function(t,e,i){"use strict";i.r(e);var a=i("3b0f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"1a33":function(t,e,i){var a=i("5216");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4d6ae662",a,!0,{sourceMap:!1,shadowMode:!1})},2689:function(t,e,i){"use strict";var a=i("cb72"),n=i.n(a);n.a},"297b":function(t,e,i){"use strict";i.r(e);var a=i("55fb"),n=i("3a61");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("4246");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"7ae0bf64",null,!1,a["a"],s);e["default"]=c.exports},"3a61":function(t,e,i){"use strict";i.r(e);var a=i("df94"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"3b0f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"chat-input",data:function(){return{val:""}},props:["focus","inputValue","isShow"],methods:{sendMessge:function(){""==this.val.trim()?this.val="":(this.$emit("send-message",{type:"text",content:this.val}),this.val="",uni.hideKeyboard())},onTap:function(){this.$emit("show-emoji"),this.$emit("updata-val",this.val)},uploadImg:function(){this.$emit("on-upload")}},watch:{isShow:function(t){this.val=this.inputValue}}};e.default=a},4246:function(t,e,i){"use strict";var a=i("1a33"),n=i.n(a);n.a},5216:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".tip[data-v-7ae0bf64]{position:fixed;top:%?118?%;left:%?30?%;z-index:100;width:%?690?%;height:%?217?%;padding:%?22?% %?30?% 0 %?30?%;background:#fff;color:#999;font-size:%?26?%}.tip .tip-title[data-v-7ae0bf64]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?10?%}.tip .tip-title i[data-v-7ae0bf64]{color:#999;padding-left:%?20?%}.tip .tip-title h2[data-v-7ae0bf64]{font-size:%?34?%;color:#333}.tip span[data-v-7ae0bf64]{color:#f23333;font-size:%?26?%;line-height:1.4}.notice[data-v-7ae0bf64]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;top:0;width:100%;height:%?88?%;padding:0 %?30?%;font-size:%?24?%;background:#fff;color:#999;z-index:100}.notice uni-image[data-v-7ae0bf64]{width:%?30?%;height:%?30?%;padding-right:%?6?%}.gift-btn[data-v-7ae0bf64]{bottom:%?200?%}.chat[data-v-7ae0bf64]{height:100%;overflow:hidden;background:#f4f4f4}.chat>div[data-v-7ae0bf64]{min-height:100%;height:100%}.chat .active[data-v-7ae0bf64]{padding-top:0!important}.chat .content[data-v-7ae0bf64]{height:calc(100% - %?110?%)!important;background:#f4f4f4}.chat .content uni-scroll-view[data-v-7ae0bf64]{height:100%}.chat .chat-footer[data-v-7ae0bf64]{position:fixed;width:100%;height:%?110?%;left:%?0?%;bottom:%?0?%}.chat #bottom[data-v-7ae0bf64]{padding-bottom:%?20?%}",""])},"55fb":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-column chat"},[t.pageShow?i("div",[i("v-uni-view",{staticClass:"content",attrs:{id:"content"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideKeyboard.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{attrs:{id:"scrollview","scroll-y":!0,"scroll-with-animation":!0,"scroll-top":t.scrollTop}},[t._l(t.msgList,function(e,a){return i("message-show",{key:a,staticClass:"msg-list",attrs:{num:a,avatar:t.avatar,id:"item"+a,message:e}})}),t.msgList.length?i("v-uni-view",{attrs:{id:"bottom"}}):t._e()],2)],1),t.showEoji?i("Emoji",{attrs:{"input-value":t.inputValue,isShow:t.showEoji},on:{"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"chat-footer"},[i("chat-input",{attrs:{focus:t.focus,"input-value":t.inputValue,isShow:t.showEoji},on:{"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}})],1)],1):t._e()])},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"5c26":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji",class:{show:t.isShow}},[i("div",{staticClass:"input-wrap"},[i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("div",{staticClass:"input-text",attrs:{placeholder:"请输入消息",type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v(t._s(t.content))])]),i("div",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[t._v("发送")])])]),i("v-uni-swiper",{staticClass:"emoji-content-swiper",attrs:{"indicator-dots":!0}},[t._l(t.currentAlbumKeys,function(e,a){return a<4?[i("v-uni-swiper-item",t._l(e,function(e,a){return i("v-uni-view",{key:a,staticClass:"emoji-content-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.emojiTap(e)}}},[i("v-uni-image",{class:["emoji"==t.currentAlbum?"emoji-content-img-emoji":"emoji-content-img-other"],attrs:{src:t.emojiList[t.currentAlbum][e].img}})],1)}),1)]:t._e()})],2)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"714f":function(t,e,i){"use strict";i.r(e);var a=i("fe6a"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"75fc":function(t,e,i){"use strict";i.r(e);var a=i("a745"),n=i.n(a);function o(t){if(n()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var s=i("774e"),r=i.n(s),c=i("c8bb"),d=i.n(c);function l(t){if(d()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r()(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return o(t)||l(t)||u()}i.d(e,"default",function(){return f})},"762e":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadImg.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{focus:t.focus,placeholder:"请输入您要咨询的问题",type:"text","confirm-type":"send"},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})],1),i("div",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[t._v("发送")])])},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"826a":function(t,e,i){"use strict";i.r(e);var a=i("5c26"),n=i("714f");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("84bc");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"6c3cb016",null,!1,a["a"],s);e["default"]=c.exports},"84bc":function(t,e,i){"use strict";var a=i("d5f3"),n=i.n(a);n.a},"895c":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+t.num}},[i("v-uni-view",{staticClass:"m-left"},["home"===t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.message.to_headimgurl}}):t._e()],1),i("v-uni-view",{staticClass:"m-content",class:["customer"===t.message.userType?"":"m-content__left"]},["home"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-left":"home"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v("礼物")])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,function(e,a){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]})],2):t._e()],1):t._e(),"customer"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v("礼物")])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,function(e,a){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]})],2):t._e()],1):t._e()],1),i("v-uni-view",{staticClass:"m-right"},["customer"==t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.avatar}}):t._e()],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"94b0":function(t,e,i){"use strict";i.r(e);var a=i("895c"),n=i("dd2f");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("2689");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"76a8da01",null,!1,a["a"],s);e["default"]=c.exports},"9b47":function(t,e,i){var a=i("e271");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("be1db1b8",a,!0,{sourceMap:!1,shadowMode:!1})},af1d:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".footer[data-v-6c3cb016]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-6c3cb016]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-left .face[data-v-6c3cb016]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-6c3cb016]{width:%?68?%;height:%?55?%}.footer-left i[data-v-6c3cb016]{font-size:%?60?%;color:#333;padding-right:%?26?%}.footer-left i[data-v-6c3cb016]:last-child{position:relative;top:%?3?%;padding-right:%?0?%}.footer-right[data-v-6c3cb016]{font-size:%?34?%;color:#333}.footer-center[data-v-6c3cb016]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?70?%;margin:0 %?20?%}.footer-center .input-text[data-v-6c3cb016]{height:%?70?%;line-height:%?70?%;background:#fff;border:solid %?1?% #d2d2d2;overflow:hidden;padding:0 %?20?%;border-radius:%?30?%;font-size:%?28?%}.emoji[data-v-6c3cb016]{position:fixed;bottom:0;left:0;z-index:99;width:100%;background:#fff;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.emoji .emoji-content-swiper[data-v-6c3cb016]{width:100%;height:%?390?%}.emoji .input-wrap[data-v-6c3cb016]{height:%?110?%}.show[data-v-6c3cb016]{-webkit-transform:translateZ(0);transform:translateZ(0)}\n/*内容  */.emoji-content[data-v-6c3cb016]{width:100%;height:%?400?%;\n  /* padding-top: 30rpx; */padding-left:%?20?%;box-sizing:border-box}.emoji-content-item[data-v-6c3cb016]{display:inline-block;padding:%?20?%}.emoji-content-img-emoji[data-v-6c3cb016]{width:%?50?%;height:%?50?%}.emoji-content-img-other[data-v-6c3cb016]{width:%?100?%;height:%?100?%}\n/*底部类别  */.emoji-album[data-v-6c3cb016]{width:100%;height:%?70?%;border:%?2?% solid #999;box-sizing:border-box;background-color:#fff}.emoji-album-left[data-v-6c3cb016]{display:inline-block;height:100%}.emoji-album-left-img[data-v-6c3cb016]{width:%?70?%;height:100%;padding:%?8?% %?10?%;box-sizing:border-box;border-right:%?2?% soild #999}.emoji-send[data-v-6c3cb016]{width:%?80?%;height:100%;line-height:%?70?%;background-color:#0091e4;text-align:center;float:right;color:#fff}.album-active[data-v-6c3cb016]{background-color:#aaa}",""])},b9e2:function(t,e,i){"use strict";var a=i("9b47"),n=i.n(a);n.a},cb72:function(t,e,i){var a=i("ef93");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("33184532",a,!0,{sourceMap:!1,shadowMode:!1})},d5f3:function(t,e,i){var a=i("af1d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("b76656e4",a,!0,{sourceMap:!1,shadowMode:!1})},dd2f:function(t,e,i){"use strict";i.r(e);var a=i("fcf6"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},df94:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var n=a(i("cebc")),o=a(i("f499")),s=a(i("f9eb")),r=a(i("94b0")),c=a(i("826a")),d=(a(i("8ced")),i("ae2f")),l={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:110,mitemHeight:0},isAnimation:!1,scrollTop:0,showEoji:!1,focus:!1,inputValue:"",pageShow:!1,msgList:[],avatar:"",toId:"",toUserId:""}},components:{chatInput:s.default,messageShow:r.default,Emoji:c.default},onLoad:function(){var t=this;this.$loading();var e=JSON.parse(uni.getStorageSync("userInfo"));this.avatar=e.headimgurl,this.toUserId=this.$mp.query.toId;var i=uni.getSystemInfoSync();this.style.pageHeight=i.windowHeight,this.style.contentViewHeight=i.windowHeight-uni.getSystemInfoSync().screenWidth/750*100,d.sendSocketMessage({data:(0,o.default)({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.$mp.query.toId}})}),d.sendSocketMessage({data:(0,o.default)({type:"history",data:{fromid:uni.getStorageSync("token"),toid:this.$mp.query.toId}})}),d.onSocketMessageCallback=function(e){var i=JSON.parse(e.data);if("say"===i.type){var a=i;a.data.to_headimgurl=a.data.toid===uni.getStorageSync("token")?a.data.from_headimgurl:a.data.to_headimgurl,a.data.message=t.$utils.generateRichTextNode(a.data.message,a.data.message_type),t.msgList.push(a.data),t.$nextTick(function(){setTimeout(function(){t.scrollToBottom()},50)})}if("history"===i.type){var n=i.data;t.msgList=n.map(function(e){return e.to_headimgurl=e.toid===uni.getStorageSync("token")?e.from_headimgurl:e.to_headimgurl,e.message=t.$utils.generateRichTextNode(e.message,e.message_type),e}),t.$nextTick().then(function(){setTimeout(function(){t.scrollToBottom()},50)})}},this.$hideLoading(),this.pageShow=!0},onUnload:function(){d.sendSocketMessage({data:(0,o.default)({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.$mp.query.toId}})})},onBackPress:function(){d.sendSocketMessage({data:(0,o.default)({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.$mp.query.toId}})})},methods:{sendMsg:function(t){var e=this;d.sendSocketMessage({data:(0,o.default)((0,n.default)({},t))});var i=t;i.data.message=this.$utils.generateRichTextNode(i.data.message,i.data.message_type),this.msgList.push(i.data),setTimeout(function(){e.scrollToBottom()},50)},onShowEmoji:function(t,e){var i=this;t?(this.showEoji=!1,this.focus=!0):(uni.hideKeyboard(),setTimeout(function(){i.showEoji=!0,i.focus=!1},300))},hideKeyboard:function(){this.showEoji=!1,uni.hideKeyboard()},updataVal:function(t){this.inputValue=t},onUpload:function(){var t=this;this.showEoji=!1,this.$utils.chooseImg().then(function(e){t.$loading("上传中"),uni.uploadFile({url:"https://nycs.maitexun.cn/apicloud/find/uploadspic",filePath:e.tempFilePaths[0],name:"file",success:function(i){var a=JSON.parse(i.data);200===a.code?uni.getImageInfo({src:e.tempFilePaths[0],success:function(e){var i=0,n=0;e.width>400?(i=uni.upx2px(400),n=uni.upx2px(e.height*(400/e.width))):(i=uni.upx2px(e.width),n=uni.upx2px(e.height));var o={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:t.toUserId,message:a.data.src.wz,message_type:"img",width:i,height:n}};t.$hideLoading(),t.sendMsg(o)}}):t.$toast(a.msg)},fail:function(e){t.$hideLoading()}})})},getInputMessage:function(t){var e={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:this.toUserId,message:t.content,message_type:"text"}};this.sendMsg(e),this.showEoji=!1,this.inputValue=""},scrollToBottom:function(){var t=this,e=uni.createSelectorQuery();e.selectAll(".m-item").boundingClientRect(),e.select("#scrollview").boundingClientRect(),e.exec(function(e){t.style.mitemHeight=0,e[0].forEach(function(e){console.info(e.height,2222),t.style.mitemHeight=t.style.mitemHeight+e.height+20}),console.log(t.style.mitemHeight,t.style.contentViewHeight),t.scrollTop=t.scrollTop+1e4,t.style.mitemHeight>t.style.contentViewHeight&&(t.scrollTop=t.style.mitemHeight-t.style.contentViewHeight)})}}};e.default=l},e271:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".footer[data-v-5230269a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-5230269a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-left .face[data-v-5230269a]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-5230269a]{width:%?68?%;height:%?55?%}.footer-left i[data-v-5230269a]{font-size:%?60?%;color:#333;padding-right:%?30?%}.footer-left i[data-v-5230269a]:last-child{position:relative;top:%?3?%;padding-right:0}.footer-right[data-v-5230269a]{font-size:%?34?%;color:#333}.footer-center[data-v-5230269a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?72?%;margin:0 %?16?%}.footer-center .input-text[data-v-5230269a]{height:%?72?%;background:#e9e9e9;border:solid %?1?% #d2d2d2;overflow:hidden;padding:0 %?36?%;border-radius:%?36?%;font-size:%?28?%}",""])},ef93:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.m-item[data-v-76a8da01]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?40?%}.m-left[data-v-76a8da01]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.m-content[data-v-76a8da01]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#333;word-break:break-all}.m-content uni-image[data-v-76a8da01]{max-width:%?400?%}.m-right[data-v-76a8da01]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.head_icon[data-v-76a8da01]{width:%?80?%;height:%?80?%;border-radius:50%}.m-content-head[data-v-76a8da01]{position:relative}.m-content-head-right[data-v-76a8da01]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.m-content-head-home[data-v-76a8da01]{position:relative;text-align:left;background:#fff;border-radius:%?16?%;padding:%?20?%;color:#333}.m-content-head-home[data-v-76a8da01]:before{position:absolute;left:%?-26?%;top:%?26?%;width:0;height:0;border:%?15?% solid transparent;border-right:%?15?% solid #fff;content:" "}.m-content-head-customer[data-v-76a8da01]{background:#fff;border-radius:%?16?%;font-size:%?28?%;color:#333;padding:%?20?%;text-align:left}.m-content__left[data-v-76a8da01]{-webkit-box-flex:inherit;-webkit-flex:inherit;flex:inherit;max-width:%?510?%}.gift-text[data-v-76a8da01]{display:block;margin-bottom:%?20?%;text-align:center;font-size:%?24?%;color:#f69a30}.m-content-head-customer[data-v-76a8da01]:after{position:absolute;top:%?26?%;right:%?-26?%;width:0;height:0;border:%?15?% solid transparent;border-left:%?15?% solid #fff;content:" "}.msg-emoji[data-v-76a8da01]{position:relative;top:%?-2?%;width:%?50?%;height:%?50?%;vertical-align:middle}.msg-img[data-v-76a8da01]{position:relative;padding:0 0;background:transparent!important;border-radius:none}.msg-img[data-v-76a8da01]:after,.msg-img[data-v-76a8da01]:before{display:none}.msg-img uni-image[data-v-76a8da01]{display:block;position:relative;margin-bottom:%?20?%;border-radius:%?8?%}.msg-img uni-image[data-v-76a8da01]:last-child{margin-bottom:0!important}',""])},f9eb:function(t,e,i){"use strict";i.r(e);var a=i("762e"),n=i("06b6");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("b9e2");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"5230269a",null,!1,a["a"],s);e["default"]=c.exports},fcf6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:["message","num","avatar"],data:function(){return{from_headimgurl:this.message.from_headimgurl}},methods:{preview:function(t){uni.previewImage({urls:[t]})}}};e.default=a},fe6a:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("75fc")),o=a(i("a4bb")),s=a(i("cd59")),r=a(i("f9eb")),c={data:function(){return{localAlbumImages:["/images/album-emoji.png"],albumArr:[],currentAlbum:"emoji",emojiList:{},currentAlbumKeys:[],content:""}},props:["isShow","inputValue","type"],components:{chatInput:r.default},mounted:function(){var t=this.splitAlbumKeys((0,o.default)(s.default.emojiList[this.currentAlbum]),"emoji"==this.currentAlbum?23:10);this.currentAlbumKeys=t,this.albumArr=s.default.albumArr,this.emojiList=s.default.emojiList,this.content=this.inputValue},methods:{splitAlbumKeys:function(t,e,i){var a=e||23,o=[],s=Math.ceil(t.length/a),r=0;if(1==s)o=[(0,n.default)(t)];else{for(var c=1;c<s;c++){var d=[];d=(0,n.default)(t.slice(r,c*a)),r=c*a,o.push(d)}o.push((0,n.default)(t.slice(a*(s-1),t.length)))}return"emoji"!=i&&"emoji"!=this.currentAlbum||o.map(function(t,e){e!=o.length-1&&t.push("[删除]")}),o},sendMessge:function(t){if(!this.content)return!1;this.$emit("send-message",{type:"text",content:this.content}),this.content=""},hideShowEmoji:function(){this.$emit("show-emoji",1,this.content),this.$emit("updata-val",this.content)},emojiTap:function(t){if("[删除]"===t)return!!this.content&&(this.content=this.content.substr(0,this.content.lastIndexOf("face")),!1);this.content="".concat(this.content).concat(t)},upload:function(){this.$emit("on-upload")}},watch:{isShow:function(){this.content=this.inputValue}}};e.default=c}}]);